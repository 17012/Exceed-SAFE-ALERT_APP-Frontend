<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Safe Alert App : Home</title>
    <link
      rel="shortcut icon"
      type="image/icon"
      href="assets/images/favicon.ico"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/slick.css" rel="stylesheet" />
    <link
      id="switcher"
      href="assets/css/theme-color/default-theme.css"
      rel="stylesheet"
    />
    <link href="new_style.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,600,700,800"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato"
      rel="stylesheet"
    />
  </head>
  <body>
      <div class="alert" role="alert" style="position: fixed; top: 5%; z-index: 10;" id="handle-response">
      </div>
    <div class="app-container">
      <h2 style="margin-left: 24px">Dashboard</h2>
      <div class="app-content">
        <div class="projects-section">
          <div class="projects-section-header">
            <p>Data Analysis</p>
            <p class="time">December, 12</p>
          </div>
          <!-- <div class="projects-section-line">
              <div class="projects-status">
                <div class="item-status">
                  <span class="status-number">45</span>
                  <span class="status-type">In Progress</span>
                </div>
                <div class="item-status">
                  <span class="status-number">24</span>
                  <span class="status-type">Upcoming</span>
                </div>
                <div class="item-status">
                  <span class="status-number">62</span>
                  <span class="status-type">Total Projects</span>
                </div>
              </div>
            </div> -->
          <div class="project-boxes jsGridView">
            <div class="project-box-wrapper">
              <div class="project-box" style="background-color: #fee4cb">
                <div class="project-box-header">
                  <span>December 10, 2020</span>
                  <div class="more-wrapper">
                    <button class="project-btn-more">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-more-vertical"
                      >
                        <circle cx="12" cy="12" r="1" />
                        <circle cx="12" cy="5" r="1" />
                        <circle cx="12" cy="19" r="1" />
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="project-box-content-header">
                  <p class="box-content-header">Web Designing</p>
                  <p class="box-content-subheader">Prototyping</p>
                </div>
                <div class="box-progress-wrapper">
                  <p class="box-progress-header">Progress</p>
                  <div class="box-progress-bar">
                    <span
                      class="box-progress"
                      style="width: 60%; background-color: #ff942e"
                    ></span>
                  </div>
                  <p class="box-progress-percentage">60%</p>
                </div>
                <div class="project-box-footer">
                  <div class="participants">
                    <img
                      src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2550&q=80"
                      alt="participant"
                    />
                    <img
                      src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=60"
                      alt="participant"
                    />
                    <button class="add-participant" style="color: #ff942e">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="12"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-plus"
                      >
                        <path d="M12 5v14M5 12h14" />
                      </svg>
                    </button>
                  </div>
                  <div class="days-left" style="color: #ff942e">
                    2 Days Left
                  </div>
                </div>
              </div>
            </div>
            <div class="project-box-wrapper">
              <div class="project-box" style="background-color: #e9e7fd">
                <div class="project-box-header">
                  <span>December 10, 2020</span>
                  <div class="more-wrapper">
                    <button class="project-btn-more">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-more-vertical"
                      >
                        <circle cx="12" cy="12" r="1" />
                        <circle cx="12" cy="5" r="1" />
                        <circle cx="12" cy="19" r="1" />
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="project-box-content-header">
                  <p class="box-content-header">Testing</p>
                  <p class="box-content-subheader">Prototyping</p>
                </div>
                <div class="box-progress-wrapper">
                  <p class="box-progress-header">Progress</p>
                  <div class="box-progress-bar">
                    <span
                      class="box-progress"
                      style="width: 50%; background-color: #4f3ff0"
                    ></span>
                  </div>
                  <p class="box-progress-percentage">50%</p>
                </div>
                <div class="project-box-footer">
                  <div class="participants">
                    <img
                      src="https://images.unsplash.com/photo-1596815064285-45ed8a9c0463?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1215&q=80"
                      alt="participant"
                    />
                    <img
                      src="https://images.unsplash.com/photo-1583195764036-6dc248ac07d9?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2555&q=80"
                      alt="participant"
                    />
                    <button class="add-participant" style="color: #4f3ff0">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="12"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-plus"
                      >
                        <path d="M12 5v14M5 12h14" />
                      </svg>
                    </button>
                  </div>
                  <div class="days-left" style="color: #4f3ff0">
                    2 Days Left
                  </div>
                </div>
              </div>
            </div>
            <div class="project-box-wrapper">
              <div class="project-box">
                <div class="project-box-header">
                  <span>December 10, 2020</span>
                  <div class="more-wrapper">
                    <button class="project-btn-more">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-more-vertical"
                      >
                        <circle cx="12" cy="12" r="1" />
                        <circle cx="12" cy="5" r="1" />
                        <circle cx="12" cy="19" r="1" />
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="project-box-content-header">
                  <p class="box-content-header">Svg Animations</p>
                  <p class="box-content-subheader">Prototyping</p>
                </div>
                <div class="box-progress-wrapper">
                  <p class="box-progress-header">Progress</p>
                  <div class="box-progress-bar">
                    <span
                      class="box-progress"
                      style="width: 80%; background-color: #096c86"
                    ></span>
                  </div>
                  <p class="box-progress-percentage">80%</p>
                </div>
                <div class="project-box-footer">
                  <div class="participants">
                    <img
                      src="https://images.unsplash.com/photo-1587628604439-3b9a0aa7a163?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjR8fHdvbWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=60"
                      alt="participant"
                    />
                    <img
                      src="https://images.unsplash.com/photo-1596815064285-45ed8a9c0463?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1215&q=80"
                      alt="participant"
                    />
                    <button class="add-participant" style="color: #096c86">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="12"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-plus"
                      >
                        <path d="M12 5v14M5 12h14" />
                      </svg>
                    </button>
                  </div>
                  <div class="days-left" style="color: #096c86">
                    2 Days Left
                  </div>
                </div>
              </div>
            </div>
            <div class="project-box-wrapper">
              <div class="project-box" style="background-color: #ffd3e2">
                <div class="project-box-header">
                  <span>December 10, 2020</span>
                  <div class="more-wrapper">
                    <button class="project-btn-more">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-more-vertical"
                      >
                        <circle cx="12" cy="12" r="1" />
                        <circle cx="12" cy="5" r="1" />
                        <circle cx="12" cy="19" r="1" />
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="project-box-content-header">
                  <p class="box-content-header">UI Development</p>
                  <p class="box-content-subheader">Prototyping</p>
                </div>
                <div class="box-progress-wrapper">
                  <p class="box-progress-header">Progress</p>
                  <div class="box-progress-bar">
                    <span
                      class="box-progress"
                      style="width: 20%; background-color: #df3670"
                    ></span>
                  </div>
                  <p class="box-progress-percentage">20%</p>
                </div>
                <div class="project-box-footer">
                  <div class="participants">
                    <img
                      src="https://images.unsplash.com/photo-1600486913747-55e5470d6f40?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2550&q=80"
                      alt="participant"
                    />
                    <img
                      src="https://images.unsplash.com/photo-1587628604439-3b9a0aa7a163?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjR8fHdvbWFufGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=60"
                      alt="participant"
                    />
                    <button class="add-participant" style="color: #df3670">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="12"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-plus"
                      >
                        <path d="M12 5v14M5 12h14" />
                      </svg>
                    </button>
                  </div>
                  <div class="days-left" style="color: #df3670">
                    2 Days Left
                  </div>
                </div>
              </div>
            </div>
            <div class="project-box-wrapper">
              <div class="project-box" style="background-color: #c8f7dc">
                <div class="project-box-header">
                  <span>December 10, 2020</span>
                  <div class="more-wrapper">
                    <button class="project-btn-more">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-more-vertical"
                      >
                        <circle cx="12" cy="12" r="1" />
                        <circle cx="12" cy="5" r="1" />
                        <circle cx="12" cy="19" r="1" />
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="project-box-content-header">
                  <p class="box-content-header">Data Analysis</p>
                  <p class="box-content-subheader">Prototyping</p>
                </div>
                <div class="box-progress-wrapper">
                  <p class="box-progress-header">Progress</p>
                  <div class="box-progress-bar">
                    <span
                      class="box-progress"
                      style="width: 60%; background-color: #34c471"
                    ></span>
                  </div>
                  <p class="box-progress-percentage">60%</p>
                </div>
                <div class="project-box-footer">
                  <div class="participants">
                    <img
                      src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2550&q=80"
                      alt="participant"
                    />
                    <img
                      src="https://images.unsplash.com/photo-1503023345310-bd7c1de61c7d?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fG1hbnxlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=60"
                      alt="participant"
                    />
                    <button class="add-participant" style="color: #34c471">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="12"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-plus"
                      >
                        <path d="M12 5v14M5 12h14" />
                      </svg>
                    </button>
                  </div>
                  <div class="days-left" style="color: #34c471">
                    2 Days Left
                  </div>
                </div>
              </div>
            </div>
            <div class="project-box-wrapper">
              <div class="project-box" style="background-color: #d5deff">
                <div class="project-box-header">
                  <span>December 10, 2020</span>
                  <div class="more-wrapper">
                    <button class="project-btn-more">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-more-vertical"
                      >
                        <circle cx="12" cy="12" r="1" />
                        <circle cx="12" cy="5" r="1" />
                        <circle cx="12" cy="19" r="1" />
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="project-box-content-header">
                  <p class="box-content-header">Web Designing</p>
                  <p class="box-content-subheader">Prototyping</p>
                </div>
                <div class="box-progress-wrapper">
                  <p class="box-progress-header">Progress</p>
                  <div class="box-progress-bar">
                    <span
                      class="box-progress"
                      style="width: 40%; background-color: #4067f9"
                    ></span>
                  </div>
                  <p class="box-progress-percentage">40%</p>
                </div>
                <div class="project-box-footer">
                  <div class="participants">
                    <img
                      src="https://images.unsplash.com/photo-1600486913747-55e5470d6f40?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2550&q=80"
                      alt="participant"
                    />
                    <img
                      src="https://images.unsplash.com/photo-1583195764036-6dc248ac07d9?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2555&q=80"
                      alt="participant"
                    />
                    <button class="add-participant" style="color: #4067f9">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="12"
                        height="12"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="3"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-plus"
                      >
                        <path d="M12 5v14M5 12h14" />
                      </svg>
                    </button>
                  </div>
                  <div class="days-left" style="color: #4067f9">
                    2 Days Left
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="messages-section">
          <button class="messages-close">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-x-circle"
            >
              <circle cx="12" cy="12" r="10" />
              <line x1="15" y1="9" x2="9" y2="15" />
              <line x1="9" y1="9" x2="15" y2="15" />
            </svg>
          </button>
          <div class="projects-section-header">
            <p>Add Wristband</p>
          </div>
          <div class="messages" id="messages-content"></div>
        </div>
      </div>
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <script>
    const url = "http://158.108.182.2:50006/";
    function checkQueue() {
        let form = document.getElementById("checkQueue")
        console.log({
          Q_Username: form.elements["username"].value,
          Q_Password: form.elements["password"].value,
          Q_shopID: 0, // fixed
        });
        $.ajax({
          type: "POST",
          url: url + "now_queue",
          data: JSON.stringify({
            Q_Username: form.elements["username"].value,
            Q_password: form.elements["password"].value,
            // Q_shopID: 0, // fixed
          }),
          success: (res) => {
            $('#checkQueue').hide()
            if(res.Result === 'Wrong Username Password or Not have data in queue') {
              $('#info').html(res.Result)
              return
            }
            $('#info').html("Your queue ID: " + res.Q_queueID + "\nWaiting List: " + res.now)
          },
          contentType: "application/json",
          dataType: "json",
        });

      }
    function submitForm(id) {
        let form = document.getElementById('form'+id)

        $.ajax({
            type: "POST",
            url: url + "add_wristband",
            data: JSON.stringify({
              W_Username: form.elements[0].value,
              W_wristbandID: id
            }),
            success: (res) => {
              console.log(res)
            },
            contentType: "application/json",
            dataType: "json",
          });
    }
    let html = "";
      $.ajax({
        type: "POST",
        url: url + "get_wristband",
        data: JSON.stringify({
          Wr_status: 0,
        }),
        success: (res) => {
          res.Result.map((r) => {
            html += `
            <form onsubmit="event.preventDefault(); submitForm(${r}); " id="form${r}">
                <div class="message-box left-green">
              <div class="message-content">
                <div class="message-header">
                    <div>
                        <div class="name">Wristband No.${r}</div>
                        <p class="message-line">Available</p>
                    </div>
                  <div class="input-block">
                      <input type="text" id="name${r}" placeholder="Username" style="margin-top: 10px;"/>
                      <button type="submit"class="btn" style="margin-top: 10px">Add</button>
                  </div>
                </div>
              </div>
            </div></form>`;
          });
          $.ajax({
            type: "POST",
            url: url + "get_wristband",
            data: JSON.stringify({
              Wr_status: 1,
            }),
            success: (res) => {
              res.Result.map((r) => {
                html += `<div class="message-box left-red">
                    <div class="message-content">
                        <div class="message-header">
                            <div>
                                <div class="name">Wristband No.${r}</div>
                                <p class="message-line">Not Available</p>
                            </div>
                        </div>
                    </div>
                    </div>`;
              });
              $("#messages-content").html(html);
            },
            contentType: "application/json",
            dataType: "json",
          });
        },
        contentType: "application/json",
        dataType: "json",
      });
    $( "form" ).on( "submit", function( event ) {
        event.preventDefault();
        console.log( $( this ).serialize() );
    });
  </script>
</html>
